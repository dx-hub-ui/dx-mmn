/* ===== monday-like sidebar (module-only, sem :root) ===== */

/* canvas opcional para a página (pode ser usado fora da sidebar) */
.appCanvas {
  background:
    linear-gradient(
      180deg,
      var(--dx-app-canvas-top) 0%,
      var(--dx-app-canvas-mid) 220px,
      var(--dx-app-canvas-body) 221px,
      var(--dx-app-canvas-body) 100%
    );
}

/* --- SIDEBAR: não usa border visível; só sombra (evita “filete”) --- */
.sidebar {
  position: sticky;
  top: var(--dx-top-bar-height);
  height: calc(100dvh - var(--dx-top-bar-height));
  width: var(--dx-sidebar-width);
  padding: var(--dx-space-3);
  padding-left: var(--dx-space-5);
  box-sizing: border-box;

  background: var(--dx-sidebar-bg);
  /* remove a borda que estava aparecendo na base/lateral */
  border: 0;
   /*border-radius: var(--dx-radius-lg);*/
  box-shadow: 0 8px 24px rgb(9 30 66 / 10%);

  overflow: hidden;
  isolation: isolate;
  z-index: 1; /* abaixo do conteúdo flutuante do main, mas suficiente p/ overlay */
}

/* --- overlays --- */
.sidebar::before,
.sidebar::after {
  content: "";
  position: absolute;
  left: var(--dx-space-3);
  right: -3px; /* empurra um pouco p/ fora p/ não sobrar linha */
  top: 0;
  pointer-events: none;
}

/* overlay principal: 135°, 65% altura
   de --primary-background-color (5%) até --dx-sidebar-bg (100%)
   + fade “spread” embaixo e à direita via máscara */
.sidebar::before {
  height: 65%;
  z-index: 1;

  /* gradiente EXATO pedido */
  background: linear-gradient(
    135deg,
    var(--primary-background-color) 5%,
    var(--dx-sidebar-bg) 100%
  );

  /* fade vertical p/ desaparecer no fundo DA SIDEBAR (sem borda) */
  -webkit-mask-image: linear-gradient(180deg, #000 0% 80%, transparent 100%);
          mask-image: linear-gradient(180deg, #000 0% 80%, transparent 100%);
  -webkit-mask-size: 100% 100%;
          mask-size: 100% 100%;

  /* “vidro” levinho, sem criar borda dura */
  box-shadow:
    inset 0 1px 0 rgb(255 255 255 / 28%),
    inset 0 -28px 40px rgb(255 255 255 / 14%);
    border-radius: var(--dx-radius-lg);
}

/* “sheen” horizontal discreto, também some embaixo */
.sidebar::after {
  height: 58%;
  z-index: 2;
  --w: calc(100% - var(--dx-space-3));
  --s1: calc(var(--w) * 0.28);
  --s2: calc(var(--w) * 0.66);

  background: linear-gradient(
    90deg,
    rgb(255 255 255 / 0.18) 0px,
    rgb(255 255 255 / 0.10) var(--s1),
    rgb(255 255 255 / 0.04) var(--s2),
    rgb(255 255 255 / 0.00) 100%
  );
  mix-blend-mode: overlay;
  opacity: .75;

  -webkit-mask-image: linear-gradient(180deg, #000 0% 78%, transparent 100%);
          mask-image: linear-gradient(180deg, #000 0% 78%, transparent 100%);
  -webkit-mask-size: 100% 100%;
          mask-size: 100% 100%;
}

/* fog do rodapé (mantém o leitoso sem borda) */
.sidebarFog {
  position: absolute;
  inset: auto 0 0 0;
  height: 88px;
  pointer-events: none;
  background: linear-gradient(180deg, transparent, rgb(255 255 255 / .65));
  z-index: 1;
}

/* conteúdo */
.sidebarInner {
  position: relative;
  z-index: 3;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: var(--dx-space-4);
  padding: var(--dx-space-4) var(--dx-space-4) var(--dx-space-4);
  overflow: hidden;
}

/* toggle lateral */
.edgeToggle { position: absolute; top: 12px; right: -12px; z-index: 4; }
.toggleButton {
  border-radius: 9999px;
  box-shadow: 0 2px 8px rgb(17 42 67 / 16%);
  background: var(--dx-surface);
}

/* header estilo workspace (opcional) */
.wsHeader {
  display: flex;
  align-items: center;
  gap: 8px;
  height: 40px;
  padding-inline: 10px;
  border-radius: var(--dx-radius-md);
  background: transparent;
}
.wsHeader:hover { background: var(--primary-background-hover-color); }

/* nav */
.nav { display: flex; flex-direction: column; gap: 4px; }
.navGroupLabel {
  margin: 6px 10px 4px;
  font-size: 12px;
  line-height: 16px;
  color: rgb(50 51 56 / 72%);
  font-weight: 600;
}

.navItem {
  display: flex;
  align-items: center;
  gap: 12px;
  width: 100%;
  height: 36px;
  border-radius: 10px;
  background: transparent;
  color: var(--primary-text-color);
  text-decoration: none;
  padding-inline: 10px;
  font-size: 14px;
  line-height: 20px;
  transition: background .16s ease, color .16s ease, box-shadow .16s ease;
}
.navItem:hover { background: var(--primary-background-hover-color); }
.navItem[aria-current="page"],
.navItem[data-selected="true"] {
  background: var(--primary-highlighted-color);
  box-shadow: inset 0 0 0 1px rgb(0 170 187 / 15%);
}

.navIcon { display: inline-flex; align-items: center; justify-content: center; width: 18px; height: 18px; color: var(--icon-color); }
.navIcon svg { width: 18px; height: 18px; display: block; }
.navLabel { color: var(--primary-text-color); white-space: nowrap; }

/* divisor */
.navDivider {
  height: 1px;
  margin: 8px 6px;
  background: linear-gradient(90deg, rgb(9 30 66 / 0%) 0, rgb(9 30 66 / 10%) 30%, rgb(9 30 66 / 0%) 100%);
  border-radius: 1px;
}

/* ===== estado colapsado ===== */
[data-collapsed="true"] .sidebar {
  width: var(--dx-sidebar-collapsed-width);
  padding-left: var(--dx-space-3);
  padding-right: var(--dx-space-3);
}
[data-collapsed="true"] .navItem { justify-content: center; gap: 0; padding-inline: 0; }
[data-collapsed="true"] .navLabel { opacity: 0; width: 0; overflow: hidden; }
[data-collapsed="true"] .wsHeader { justify-content: center; }

/* ===== scrollbar clean (limita ao escopo da sidebar) ===== */
.sidebar ::-webkit-scrollbar { width: 10px; }
.sidebar ::-webkit-scrollbar-thumb {
  background: rgb(9 30 66 / 10%);
  border-radius: 999px;
  border: 3px solid transparent;
  background-clip: content-box;
}
.sidebar ::-webkit-scrollbar-thumb:hover { background: rgb(9 30 66 / 18%); }
